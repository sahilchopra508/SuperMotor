{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sahil Chopra\\\\Downloads\\\\SuperMotor\\\\frontend\\\\src\\\\pages\\\\Bookings.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Bookings.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Bookings = ({\n  user\n}) => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const handleDeleteBooking = async bookingId => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/bookings/${bookingId}`, {\n        method: 'DELETE'\n      });\n      if (res.status === 204) {\n        setBookings(prev => prev.filter(b => b._id !== bookingId));\n      }\n    } catch (err) {\n      alert('Failed to delete booking.');\n    }\n  };\n  useEffect(() => {\n    if (!(user !== null && user !== void 0 && user._id)) return;\n    fetch(`http://localhost:5000/api/bookings?buyerId=${user._id}`).then(res => res.json()).then(data => setBookings(data)).catch(err => {\n      console.error('Error fetching bookings:', err);\n    });\n  }, [user]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bookings-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"bookings-title\",\n      children: \"My Bookings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this), bookings.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookings-empty\",\n      children: \"No booked cars found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bookings-grid\",\n      children: bookings.map(booking => /*#__PURE__*/_jsxDEV(Link, {\n        to: `/car/${booking.carId._id}`,\n        className: \"bookings-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"bookings-img\",\n          src: `http://localhost:5000${booking.carId.images && booking.carId.images.length > 0 ? booking.carId.images[0] : ''}`,\n          alt: booking.carId.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bookings-card-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"bookings-car-title\",\n            children: [booking.carId.brand, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 73\n            }, this), booking.carId.model, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 99\n            }, this), \"Year: \", booking.carId.year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookings-details\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \" \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 51\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookings-price\",\n            children: [\"\\u20B9\", booking.carId.price.toLocaleString('en-IN')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bookings-payment-status\",\n            children: [\"Payment: \", booking.paymentStatus]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-booking\",\n            onClick: e => {\n              e.preventDefault();\n              handleDeleteBooking(booking._id);\n            },\n            children: \"Cancel Booking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this)]\n      }, booking._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(Bookings, \"mhYuI94oNh8neuxZ6UayUTRC/Ns=\");\n_c = Bookings;\nexport default Bookings;\nvar _c;\n$RefreshReg$(_c, \"Bookings\");","map":{"version":3,"names":["React","useEffect","useState","Link","jsxDEV","_jsxDEV","Bookings","user","_s","bookings","setBookings","handleDeleteBooking","bookingId","res","fetch","method","status","prev","filter","b","_id","err","alert","then","json","data","catch","console","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","map","booking","to","carId","src","images","alt","title","brand","model","year","price","toLocaleString","paymentStatus","onClick","e","preventDefault","_c","$RefreshReg$"],"sources":["C:/Users/Sahil Chopra/Downloads/SuperMotor/frontend/src/pages/Bookings.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Bookings.css';\n\nconst Bookings = ({ user }) => {\n  const [bookings, setBookings] = useState([]);\n\n  const handleDeleteBooking = async (bookingId) => {\n    try {\n      const res = await fetch(`http://localhost:5000/api/bookings/${bookingId}`, {\n        method: 'DELETE',\n      });\n      if (res.status === 204) {\n        setBookings(prev => prev.filter(b => b._id !== bookingId));\n      }\n    } catch (err) {\n      alert('Failed to delete booking.');\n    }\n  };\n\n  useEffect(() => {\n    if (!user?._id) return;\n    fetch(`http://localhost:5000/api/bookings?buyerId=${user._id}`)\n      .then((res) => res.json())\n      .then((data) => setBookings(data))\n      .catch((err) => {\n        console.error('Error fetching bookings:', err);\n      });\n  }, [user]);\n\n  return (\n    <div className=\"bookings-container\">\n      <h1 className=\"bookings-title\">My Bookings</h1>\n      {bookings.length === 0 ? (\n        <div className=\"bookings-empty\">No booked cars found.</div>\n      ) : (\n        <div className=\"bookings-grid\">\n          {bookings.map((booking) => (\n            <Link to={`/car/${booking.carId._id}`} className=\"bookings-card\" key={booking._id}>\n              <img\n                className=\"bookings-img\"\n                src={`http://localhost:5000${booking.carId.images && booking.carId.images.length > 0 ? booking.carId.images[0] : ''}`}\n                alt={booking.carId.title}\n              />\n              <div className=\"bookings-card-content\">\n                <h2 className=\"bookings-car-title\">{booking.carId.brand}<br/>{booking.carId.model}<br/>Year: {booking.carId.year}</h2>\n                <div className=\"bookings-details\"><b> </b></div>\n                <div className=\"bookings-price\">â‚¹{booking.carId.price.toLocaleString('en-IN')}</div>\n                <div className=\"bookings-payment-status\">Payment: {booking.paymentStatus}</div>\n                <button\n                  className=\"delete-booking\"\n                  onClick={e => {\n                    e.preventDefault();\n                    handleDeleteBooking(booking._id);\n                  }}\n                >\n                  Cancel Booking\n                </button>\n              </div>\n            </Link>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Bookings;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}